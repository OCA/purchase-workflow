<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="purchase_order_line_schedule_tree" model="ir.ui.view">
        <field name="name">purchase.order.line.schedule.tree</field>
        <field name="model">purchase.order.line.schedule</field>
        <field name="arch" type="xml">
            <tree editable="top" create="true" edit="true" delete="true">
                <field name="order_id" invisible="1" />
                <field name="purchase_state" invisible="1" />
                <field name="qty_received_method" invisible="1" />
                <field name="order_line_id" readonly="1" />
                <field name="date_planned" />
                <field name="product_qty" />
                <field
                    name="qty_received"
                    attrs="{'invisible': [('purchase_state', 'not in', ('purchase', 'done'))], 'readonly': [('qty_received_method', '!=', 'manual')]}"
                />
                <field name="qty_received_manual" invisible="1" />
                <field name="qty_to_receive" />
            </tree>
        </field>
    </record>
    <record id="purchase_order_line_schedule_form" model="ir.ui.view">
        <field name="name">purchase.order.line.schedule.form</field>
        <field name="model">purchase.order.line.schedule</field>
        <field name="arch" type="xml">
            <form>
                <field name="order_id" readonly="1" />
                <field name="purchase_state" invisible="1" />
                <field name="qty_received_method" invisible="1" />
                <field name="order_line_id" readonly="1" />
                <field name="date_planned" />
                <field name="product_qty" />
                <field
                    name="qty_received"
                    attrs="{'invisible': [('purchase_state', 'not in', ('purchase', 'done'))], 'readonly': [('qty_received_method', '!=', 'manual')]}"
                />
                <field name="qty_received_manual" invisible="1" />
                <field name="qty_to_receive" />
            </form>
        </field>
    </record>
    <record id="purchase_order_line_schedule_search" model="ir.ui.view">
        <field name="name">purchase.order.line.schedule.search</field>
        <field name="model">purchase.order.line.schedule</field>
        <field name="arch" type="xml">
            <search>
                <field name="date_planned" />
                <filter
                    name="to_receive"
                    string="To Receive"
                    domain="[('qty_to_receive', '>', 0.0)]"
                />
            </search>
        </field>
    </record>
</odoo>
