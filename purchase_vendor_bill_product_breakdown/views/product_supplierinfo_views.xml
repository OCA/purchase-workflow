<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="product_supplierinfo_tree_view3" model="ir.ui.view">
        <field name="name">product.spplierinfo.inherit.tree.view</field>
        <field name="model">product.supplierinfo</field>
        <field name="inherit_id" ref="purchase.product_supplierinfo_tree_view2" />
        <field name="arch" type="xml">
            <tree>
                <field name="bill_components" invisible="1" />
                <field name="product_bill_components" invisible="1" />
                <button
                    name="action_open_component_view"
                    type="object"
                    icon="fa-list"
                    attrs="{'invisible': ['|', ('bill_components', '=', False), ('product_bill_components', '=', False)]}"
                />
            </tree>
        </field>
    </record>

    <record id="product_supplierinfo_component_form_view" model="ir.ui.view">
        <field name="name">product.supplierinfo.component.form.view</field>
        <field name="model">product.supplierinfo</field>
        <field name="priority">200</field>
        <field name="arch" type="xml">
            <form string="Product Components">
                <sheet>
                    <field name="component_ids" widget="one2many">
                        <tree string="Product Components" editable="bottom">
                            <control>
                                <create
                                    name="add_product_control"
                                    string="Add a Component"
                                />
                            </control>
                            <field name="supplierinfo_id" invisible="1" />
                            <field name="component_uom_category_id" invisible="1" />
                            <field name="invalid_component_ids" invisible="1" />
                            <field
                                name="component_id"
                                domain="[('id', 'not in', invalid_component_ids)]"
                            />
                            <field name="current_price" />
                            <field name="product_uom_qty" />
                            <field name="product_uom_id" />
                            <field name="price_total" />
                        </tree>
                    </field>
                    <footer>
                        <button string="Save" class="btn-primary" special="save" />
                        <button
                            string="Cancel"
                            class="btn-secondary"
                            special="cancel"
                        />
                    </footer>
                </sheet>
            </form>
        </field>
    </record>
</odoo>
