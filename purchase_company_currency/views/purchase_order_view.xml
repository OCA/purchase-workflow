<?xml version="1.0" encoding="UTF-8"?>
<odoo>

  <!-- Purchase Order total in company currency -->
  <record id="purchase_order_tree" model="ir.ui.view">
    <field name="name">purchase.order.tree</field>
    <field name="model">purchase.order</field>
    <field name="inherit_id" ref="purchase.purchase_order_tree" />
    <field name="arch" type="xml">

      <!-- Remove sums where field is in multiple currencies -->
      <field name="amount_untaxed" position="attributes">
        <attribute name="sum" />
      </field>
      <field name="amount_total" position="attributes">
        <attribute name="sum" />
      </field>
      <!--  Sum in company currency -->
      <field name="amount_total" position="after">
        <field name='company_currency_id' invisible="True"/>
        <field
          name="amount_total_curr"
          sum="Total"
          string="Total (Company Currency)"
          widget="monetary"
          options="{'currency_field': 'company_currency_id'}" />
      </field>

    </field>
  </record>
    <!-- Purchase Order total in company currency -->
  <record id="purchase_order_form" model="ir.ui.view">
    <field name="name">purchase.order.form</field>
    <field name="model">purchase.order</field>
    <field name="inherit_id" ref="purchase.purchase_order_form" />
    <field name="arch" type="xml">
      <!--  Sum in company currency -->
      <field name="amount_total" position="after">
        <field name='company_currency_id' invisible="True"/>
        <field
          name="amount_total_curr"
          sum="Total"
          string="Total (Company Currency)"
          widget="monetary"
          options="{'currency_field': 'company_currency_id'}" />
      </field>

    </field>
  </record>

</odoo>
