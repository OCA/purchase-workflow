<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <record id="purchase_order_internal_validation_form" model="ir.ui.view">
            <field name="name">purchase.order.form.internalvalidation</field>
            <field name="model">purchase.order</field>
            <field name="inherit_id" ref="purchase.purchase_order_form"/>
            <field name="arch" type="xml">
                <data>

                    <field name="state" position="before">
                        <button name="purchase_refuse" states="wait_valid" string="Refuse" groups="purchase_internal_validation.group_purchase_validator"/>
                        <button name="purchase_validate" states="wait_valid" string="Validate" groups="purchase_internal_validation.group_purchase_validator"/>
                        <button name="purchase_cancel" states="wait_correct" string="Cancel"/>
                        <button name="wkf_send_rfq" states="validated" string="Send by Email" type="object" context="{'send_rfq':True}" class="oe_highlight"/>
                        <button name="print_quotation" states="validated" string="Print" type="object" class="oe_highlight"/>
                        <button name="purchase_confirm" states="wait_correct,validated" string="Confirm Order" class="oe_highlight"/>
                        <button name="action_cancel" states="validated" string="Cancel Order" type="object"/>

                    </field>

                </data>

            </field>
        </record>

        <record id="purchase.purchase_rfq" model="ir.actions.act_window">
            <field name="domain">[('state','in',('draft','sent','confirmed','wait_valid','wait_correct','validated'))]</field>
        </record>

        <record id="purchase.purchase_form_action" model="ir.actions.act_window">
            <field name="domain">[('state','not in',('draft','sent','confirmed','wait_valid','wait_correct','validated'))]</field>
        </record>

    </data>
</openerp>
